extends layout

block content
    div.container 
        div.row
            div.col-12.col-sm-6
                h2= (user ? 'EDIT USER' : 'ADD USER')
                form(action=(user ? '/users/edit/' + user._id : '/users/add'), method="post")
                    div.row
                        div.form-group.col-6
                            label(for="") Firstname
                            input(type="text", name="firstname", class="form-control" value=(user  ? user.firstname : ''))
                        div.form-group.col-6
                            label(for="") Lastname
                            input(type="text", name="lastname", class="form-control" value=(user  ? user.lastname : ''))
                    div.row
                        div.form-group.col-6
                            label(for="") Email
                            input(type="text", name="email", class="form-control" value=(user ? user.email : ''))
                        div.form-group.col-6
                            label(for="") Age
                            input(type="text", name="age", class="form-control" value=(user ? user.age : ''))
                    div.row
                        div.form-group.col-12
                            label(for="") Status
                            select(name="status" class="form-control")
                                option(value="active" selected=(user && user.status == "active") ) active
                                option(value="pending" selected=(user && user.status == "pending")) pending
                    div.row
                        div.form-group.col-6
                            button(type="submit").btn.btn-block.btn-success= (user ? 'EDIT' : 'ADD')
                        div.form-group.col-6
                            button(type="reset" ).btn.btn-block.btn-warning RESET
                        if user 
                            div.form-group.col-12
                                a.btn.btn-block(href="/users") BACK

            div.col-12.col-sm-5.offset-sm-1
                h2 SEARCH
                form(action="/users/search", method="post")
                    div.row
                        div.form-group.col-6
                            label(for="") Firstname
                            input(type="text", name="firstname", class="form-control" )
                        div.form-group.col-6
                            label(for="") Lastname
                            input(type="text", name="lastname", class="form-control" )
                        div.form-group.col-6
                            label(for="") Email
                            input(type="text", name="email", class="form-control" )
                        div.form-group.col-6
                            label(for="") Age
                            input(type="text", name="age", class="form-control" )
                        div.form-group.col-12
                            label(for="") Status
                            select(name="status" class="form-control")
                                option(value="") Select
                                option(value="active") active
                                option(value="pending") pending
                        div.form-group.col-12
                            button(type="submit").btn.btn-block.btn-info SEARCH

    if users
        hr                
        div.container
            h2 USERS
            div.row
                each user in users 
                    .col-6.col-md-4
                        h4.text-primary= user.firstname + ' ' + user.lastname
                        p= 'Age : ' + user.age
                        p= 'Email : ' + user.email
                        p(class=(user.status == 'active' ? 'text-success' : 'text-danger'))= 'Status : ' + user.status
                        div
                            ul.list-inline
                                li.list-inline-item
                                    button(onclick=("window.location = '/users/edit/" + user._id + "'")).btn.btn-primary EDIT
                                li.list-inline-item
                                    form(action="/users/delete/" + user._id , method="post")
                                        button(type="submit").btn.btn-danger DEL
                        hr

    
                

